!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e["simple-utils"]={})}(this,function(e){"use strict";function n(e,n){return e+"="+encodeURIComponent(n)}function t(e){return Object.keys(e).filter(function(n){return void 0!=e[n]}).map(function(t){var r=e[t];return r instanceof Array?r.map(function(e){return n(t,e)}).join("&"):n(t,r)}).join("&")}function r(e){this.name="TimeoutError",this.message=e||""}function o(e,n){var t=!1;return Promise.race([e,function(e){return new Promise(function(n){setTimeout(function(){t=!0},e)})}(n)]).then(function(e){if(t)throw new r;return e})}function i(e){if(!e)return"";var n=t(e);return n?"?"+n:""}function u(e,n){return Math.floor(e+Math.random()*(n-e))}r.prototype=Error.prototype;var a=Object.assign||function(e){for(var n=1;arguments.length>n;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},c={"Content-Type":"application/x-www-form-urlencoded"},f={credentials:"include"},l=function(e){return function(n){return Object.prototype.toString.call(n)==="[object "+e+"]"}},d=l("Number"),s=l("String"),p=l("Null"),v=l("Undefined"),h=l("Boolean"),m=l("Array"),y=l("Function"),g=l("Object");e.debounce=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.leading,o=void 0===r||r,i=t.trailing,u=void 0===i||i,a=!1,c=null;return function(){for(var t=this,r=arguments.length,i=Array(r),f=0;r>f;f++)i[f]=arguments[f];var l=function(n){return function(){e.apply(t,i),n&&(a=!1,c=null)}};c&&clearTimeout(c),o&&!a?(a=!0,l(!1)()):u&&(c=setTimeout(l(!0),n))}},e.delay=function(e,n){setTimeout(function(){return e()},n)},e.fetchContext=function(){function e(e){var n=e.base;Object.assign(t,e,n?{base:n.replace(/\/+$/,"")}:{})}function n(e,n){var r=t.base,i=void 0===r?"":r,u=t.headers,l=void 0===u?{}:u,d=t.beforeFetch,s=i,p=a({headers:a({},c,"function"==typeof l?l():l)},f,n);n&&"undefined"!=typeof FormData&&n.body instanceof FormData&&delete p.headers["Content-Type"];var v=void 0;v=-1!==e.indexOf("://")?e:s+"/"+e.replace(/^\/+/,"");var h=new Request(v,p);return d&&d(h),void 0!==p.timeout?o(window.fetch(h),p.timeout):window.fetch(h)}var t={};return e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{q:n,get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];return n(""+e+i(t),r)},post:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a({method:"POST"},arguments[2]);return n(""+e+i(t),r)},config:e}},e.params=t,e.parseQueryString=function(e){for(var n={},t=e.split("&"),r=0;t.length>r;r++){var o=t[r].split("=");if(void 0===n[o[0]])n[o[0]]=decodeURIComponent(o[1]);else if("string"==typeof n[o[0]]){var i=[n[o[0]],decodeURIComponent(o[1])];n[o[0]]=i}else n[o[0]].push(decodeURIComponent(o[1]))}return n},e.randomRange=u,e.randomSerial=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1,2,3,4,5,6,7,8,9];return Array(e).fill("").map(function(e){return n[u(0,n.length)]}).join("")},e.shallowEqual=function(e,n){if(e===n)return!0;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;t.length>i;i++)if(!o.call(n,t[i])||e[t[i]]!==n[t[i]])return!1;return!0},e.throttle=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.leading,o=void 0===r||r,i=t.trailing,u=void 0===i||i,a=-(n+1),c=void 0;return function(){for(var t=this,r=arguments.length,i=Array(r),f=0;r>f;f++)i[f]=arguments[f];var l=+new Date-a,d=function(r){return function(){a=r?-(n+1):+new Date,e.apply(t,i)}};c&&clearTimeout(c),l>n?o?d(!1)():c=setTimeout(d(!0),n):u&&(c=setTimeout(d(!0),n-l))}},e.isNumber=d,e.isString=s,e.isNull=p,e.isUndefined=v,e.isBoolean=h,e.isArray=m,e.isFunction=y,e.isObject=g,Object.defineProperty(e,"__esModule",{value:!0})});
